# 1 Refactoring: 첫번째 예시

## 1.1 예시프로그램을 본 소감

프로그램이 새로운 기능을 추가하기에 편한 구조가 아니라면, 먼저 기능을 추가하기 쉬운 형태로 리팩터링하고 나서 원하는 기능을 추가한다.

## 1.2 리팩터링의 첫 단계

리팩터링에서 테스트의 역할이 굉장히 중요하다.

리팩터링 하기전에 제대로 된 테스트부터 마련한다. 테스트는 반드시 자가진단하도록 만든다.

## 1.4 함수쪼개기

### 임시변수를 질의함수로 바꾸기

```js
function amountFor(aPerformance, play) {
  // ...
}
```

play라는 매개변수가 aPerformance에 포함된 정보로 만들어진다면, 매개변수로서 전달하지 않고, amountFor 함수 내에서 해당 정보를 만들어내는 질의함수를 만들어서 처리한다.

의미없는 지역변수를 제거하여 얻는 가장 큰 장점은 추출이 쉬워진다는 것이다. 유효범위를 신경 써야 할 대상이 줄어든다.
